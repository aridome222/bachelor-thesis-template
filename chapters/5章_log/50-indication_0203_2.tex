\chapter{適用例}\label{cha:Indication}
本章では、今回試作した\toolName を用いて、画像比較に基づく差分箇所からレイアウトの副作用箇所のみを抽出して可視化できることを確認する。
% \par
% 画像比較に基づく差分箇所から、HTMLコードに基づく影響箇所を見つけ出すことで、HTMLコードに基づかない箇所を検出する。
% HTMLコードに基づかない箇所は、レイアウトの副作用である。レイアウトの副作用には、不具合が含まれている可能性があるため、
% レイアウトの副作用箇所を見つけることには意義がある。
% \par
% 画像比較に基づく差分箇所は、変更前画像から削除された箇所を赤枠で囲み、
% 変更後画像に追加された箇所を緑枠で囲む。

% 赤枠内のテキストが、緑枠内のテキストと完全一致しなければ、意図して削除された箇所だと分かる。
% 赤枠内のテキストが、緑枠内のテキストと完全一致すれば、変更後に削除されるべきテキストがあるのは
% おかしいため、HTMLコードに基づかない箇所だと判断できる。

% 緑枠内のテキストが、赤枠内のテキストと完全一致しなければ、意図して追加された箇所だと分かる。
% 緑枠内のテキストが、赤枠内のテキストと完全一致すれば、変更前に追加されるべきテキストがあるのは
% おかしいいため、HTMLコードに基づかない箇所だと判断できる。
\begin{figure}[htbp]
    \centering
    % 画像ファイル名とサイズを指定
    \includegraphics[width=0.5\textwidth]{image/5/test.png}
    \caption{ここにキャプションを入力}
    \label{fig:test}
\end{figure}
\par
以降、レイアウトの副作用箇所を可視化できることを、それぞれ確認する。

\section{}\label{sec:result_area_detection}
\toolName が画面要素の隠れを可視化できることを確認するために、以下のWebページを用意する。
\begin{itemize}
    \setlength{\itemsep}{0pt}
          \setlength{\parsep}{0pt}
    \item 画面要素の隠れが発生していないWebページ\label{item: ex1_bf}
    \item 1.のWebページに対して画面要素の追加や変更を行った結果、
          画面要素の隠れが発生したWebページ\label{item: ex1_af}
\end{itemize}
また、\toolName を用いて、以下の3つの操作を行う。
\begin{enumerate}[label=操作\arabic*., leftmargin=1.8cm]
    \item 画面要素の隠れが発生していないWebページのURLを入力として、コマンドライン上で\toolName の実行コマンド(\ref{subsec:MixVRT_preparation}を参照)を実行する。
    \item 画面要素の隠れが発生したWebページのURLを入力として、コマンドライン上で\toolName の実行コマンドを実行する。
    \item Webブラウザ上で「http://localhost:5000/MixVRT\_diff」にアクセスし、\toolName による視覚的回帰テストの結果を確認する。
\end{enumerate}
\par
上記の操作により、
\toolName の各表示タブにおける、
画面要素の隠れが発生していないWebページの画像と画面要素の隠れが発生したWebページの画像を確認できる。
\par
まず、レイアウトの不具合が発生していないかを確認するために、レイアウトの不具合箇所表示タブを確認する。
レイアウトの不具合箇所表示タブにおける、画面要素の隠れが発生していないWebページの画像と画面要素の隠れが発生したWebページの画像を、
図\ref{fig: ex1_subeffect}に示す。
\begin{figure}[tp]
    \begin{center}
        \includegraphics[width=1.0\columnwidth]{image/5/ex1_subeffect.png}
        \caption{レイアウトの不具合箇所表示タブにおける、画面要素の隠れが発生していないWebページの画像と画面要素の隠れが発生したWebページの画像}
        \label{fig: ex1_subeffect}
    \end{center}
\end{figure}
図\ref{fig: ex1_subeffect}を見ると、画面要素の隠れが発生していないWebページの画像上に赤枠で囲まれた画面要素が存在するが、
その画面要素と一致する緑枠で囲まれた画面要素は、画面要素の隠れが発生したWebページの画像上には存在しない。
このことから、画面要素の隠れが発生していると推測できる。
次に、赤枠で囲まれた画面要素がHTMLコードの変更による影響を受けているのかを確認する。
HTMLコードの変更による影響箇所表示タブにおける、画面要素の隠れが発生していないWebページの画像と画面要素の隠れが発生したWebページの画像を、
図\ref{fig: ex1_html}に示す。
\begin{figure}[tp]
    \begin{center}
        \includegraphics[width=1.0\columnwidth]{image/5/ex1_html.png}
        \caption{HTMLコードに基づく影響箇所表示タブにおける、画面要素の隠れが発生していないWebページの画像と画面要素の隠れが発生したWebページの画像}
        \label{fig: ex1_html}
    \end{center}
\end{figure}
図\ref{fig: ex1_html}を見ると、レイアウトの不具合箇所表示タブでは赤枠で囲まれた画面要素が、
図\ref{fig: ex1_html}の画面要素の隠れが発生していないWebページの画像上には存在しない。
つまり、赤枠で囲まれた画面要素は、HTMLコードによる影響を受けて
以上より、\toolName は、画面要素の隠れを可視化できることを確認できた。
% オリジナル表示タブにおける、画面要素の隠れが発生していないWebページの画像と画面要素の隠れが発生したWebページの画像を、
% 図\ref{fig: ex1_original}に示す。
% \begin{figure}[tp]
%     \begin{center}
%         \includegraphics[width=1.0\columnwidth]{image/5/ex1_original.png}
%         \caption{オリジナル表示タブにおける、画面要素の隠れが発生していないWebページの画像と画面要素の隠れが発生したWebページの画像}
%         \label{fig: ex1_original}
%     \end{center}
% \end{figure}
% 次に、画像比較に基づく差分箇所表示タブにおける、画面要素の隠れが発生していないWebページの画像と画面要素の隠れが発生したWebページの画像を、
% 図\ref{fig: ex1_img}に示す。
% \begin{figure}[tp]
%     \begin{center}
%         \includegraphics[width=1.0\columnwidth]{image/5/ex1_img.png}
%         \caption{画像比較に基づく差分箇所表示タブにおける、画面要素の隠れが発生していないWebページの画像と画面要素の隠れが発生したWebページの画像}
%         \label{fig: ex1_img}
%     \end{center}
% % \end{figure}
% その次に、HTMLコードに基づく影響箇所表示タブにおける、画面要素の隠れが発生していないWebページの画像と画面要素の隠れが発生したWebページの画像を、
% 図\ref{fig: ex1_html}に示す。
% \begin{figure}[tp]
%     \begin{center}
%         \includegraphics[width=1.0\columnwidth]{image/5/ex1_html.png}
%         \caption{HTMLコードに基づく影響箇所表示タブにおける、画面要素の隠れが発生していないWebページの画像と画面要素の隠れが発生したWebページの画像}
%         \label{fig: ex1_html}
%     \end{center}
% \end{figure}

% 図\ref{fig: ex1_original}より、画面要素の隠れが発生していないWebページの画像と画面要素の隠れが発生したWebページの画像を確認できる。
% 図\ref{fig: ex1_img}により、レイアウトの変更があった画面要素を
図\ref{fig: ex1_subeffect}を見ると、変更前画像上に赤枠で囲んだ画面要素が存在するが、その画面要素と一致する、緑枠で囲まれた画面要素は存在しない。
このことから、画面要素の隠れが発生していると判断できる。
\par
以上のことから、\toolName は、画面要素の隠れを可視化できることを確認できた。
% \toolName に対して、画面要素の隠れを埋め込む前のWebページのURLを入力として実行した時に取得した変更前画像と、
% 画面要素の隠れを埋め込んだ後のWebページのURLを入力として実行した時に取得した変更後画像を
% 画面要素の隠れを埋め込む前のWebページの画像と埋め込んだ後のWebページの画像を、図\ref{fig: ex1_original}に示す。

\section{画面要素の見切れの可視化}\label{sec:result_area_detec}
適用例を用いて、\toolName が画面要素の見切れを、可視化できることを確認する。
\toolName は、画面要素の見切れを埋め込んだ変更前後のWebページのURLをそれぞれ入力として受け取り、
図\ref{fig: ex4_original}に対して画面要素の見切れを可視化した変更前画像と変更後画像を生成する。
% 図\ref{fig: ex1_original}を見ると、変更前画像と変更後画像を比較して、コンテナ内に
画面要素の見切れを可視化した変更前画像と変更後画像を、図\ref{fig: ex4_subeffect}に示す。
\begin{figure}[tp]
    \begin{center}
        \includegraphics[width=1.0\columnwidth]{image/5/ex4_original.png}
        \caption{画面要素の見切れを埋め込んだWebページの変更前画像と変更後画像}
        \label{fig: ex4_original}
    \end{center}
\end{figure}
\begin{figure}[tp]
    \begin{center}
        \includegraphics[width=1.0\columnwidth]{image/5/ex4_subeffect.png}
        \caption{図\ref{fig: ex4_original}に対して画面要素の見切れを可視化した変更前画像と変更後画像}
        \label{fig: ex4_subeffect}
    \end{center}
\end{figure}
図\ref{fig: ex4_subeffect}を見ると、変更前画像上に赤枠で囲んだ画面要素が存在し、その画面要素の一部と一致する、緑枠で囲まれた画面要素が存在する。
このことから、画面要素の見切れが発生していると判断できる。
\par
以上のことから、\toolName は、画面要素の見切れを可視化できることを確認できた。

\section{画面要素の重なりの可視化}\label{sec:result_area_detecti}
適用例を用いて、\toolName が画面要素の重なりを、可視化できることを確認する。
\toolName は、画面要素の重なりを埋め込んだ変更前後のWebページのURLをそれぞれ入力として受け取り、
図\ref{fig: ex3_original}に対して画面要素の重なりを可視化した変更前画像と変更後画像を生成する。
% 図\ref{fig: ex1_original}を見ると、変更前画像と変更後画像を比較して、コンテナ内に
画面要素の重なりを可視化した変更前画像と変更後画像を、図\ref{fig: ex3_subeffect}に示す。
\begin{figure}[tp]
    \begin{center}
        \includegraphics[width=1.0\columnwidth]{image/5/ex3_original.png}
        \caption{画面要素の重なりを埋め込んだWebページの変更前画像と変更後画像}
        \label{fig: ex3_original}
    \end{center}
\end{figure}
\begin{figure}[tp]
    \begin{center}
        \includegraphics[width=1.0\columnwidth]{image/5/ex3_subeffect.png}
        \caption{図\ref{fig: ex3_original}に対して画面要素の重なりを可視化した変更前画像と変更後画像}
        \label{fig: ex3_subeffect}
    \end{center}
\end{figure}
図\ref{fig: ex3_subeffect}を見ると、変更後画像上にテキストとフッターの2つの画面要素が緑枠内で重なっていることが確認できる。
また、変更前画像上には、先ほど述べたテキストとフッターが赤枠で囲まれていることから、それらの画面要素が重なってできた画面要素の重なりであると確認できる。
このことから、画面要素の重なりが発生していると判断できる。
\par
以上のことから、\toolName は、画面要素の重なりを可視化することを確認できた。


% \section{画面要素の隠れが発生したWebページ}\label{subsec:result_rect_area}
% \subsection{Case1：開発者の意図しないレイアウトの不具合}\label{subsec:result_rect_area}

% \subsection{Case2：開発者が意図して画面要素を消した場合}\label{subsec:result_underline_area}

% \subsection{Case3：開発者が意図せず画面要素を消した場合}\label{subsec:result_underline}


% \section{画面要素の見切れが発生したWebページ}\label{subsec:result_underline_area}
% \subsection{Case1：開発者の意図しないレイアウトの不具合}\label{subsec:result_rect_area}

% \subsection{Case2：開発者が意図して画面要素を消した場合}\label{subsec:result_underline_area}

% \subsection{Case3：開発者が意図せず画面要素を消した場合}\label{subsec:result_underline}

% \section{画面要素の重なりが発生したWebページ}\label{sec:result_area_detection}

% \subsection{Case1：開発者の意図しないレイアウトの不具合}\label{subsec:result_rect_area}

% \subsection{Case2：開発者が意図して画面要素を消した場合}\label{subsec:result_underline_area}

% \subsection{Case3：開発者が意図せず画面要素を消した場合}\label{subsec:result_underline}